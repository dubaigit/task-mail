# Email Intelligence Service - Production Environment Configuration
# =============================================================================
# IMPORTANT: Update this file with your actual production values
# =============================================================================

# Environment
ENVIRONMENT=production
DEBUG=false

# Service Configuration
HOST=0.0.0.0
PORT=8000
ANALYTICS_PORT=8001
UI_PORT=3000
WORKERS=4

# Database Configuration
DATABASE_PATH=email_intelligence_production.db
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_TIMEOUT=30

# Redis Configuration (for caching and queues)
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=100
REDIS_TIMEOUT=5

# MongoDB Configuration (for email storage)
MONGODB_URL=mongodb://admin:emailpass123@localhost:27017/emaildb
MONGODB_HOST=localhost
MONGODB_PORT=27017
MONGODB_DATABASE=emaildb
MONGODB_USERNAME=admin
MONGODB_PASSWORD=emailpass123
MONGODB_TIMEOUT=10

# AI Configuration
# =============================================================================
# REQUIRED: Set your OpenAI API key for AI-powered email classification
# OPENAI_API_KEY= # Removed for security
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL_CLASSIFIER=gpt-5-nano-2025-08-07
OPENAI_MODEL_DRAFT=gpt-5-mini-2025-08-07

# AI Rate Limiting
AI_REQUESTS_PER_MINUTE=60
AI_REQUESTS_PER_HOUR=1000
AI_BURST_CAPACITY=10
AI_BACKOFF_FACTOR=2.0
AI_MAX_RETRIES=3
AI_TIMEOUT_SECONDS=30

# Cache Configuration
CACHE_ENABLED=true
CACHE_TTL_SECONDS=3600
CACHE_MAX_ENTRIES=10000
CACHE_CLEANUP_INTERVAL=300

# WebSocket Configuration
WS_ENABLED=true
WS_MAX_CONNECTIONS=500
WS_HEARTBEAT_INTERVAL=30
WS_CONNECTION_TIMEOUT=300
WS_MAX_MESSAGE_SIZE=1048576

# Email Processing Configuration
EMAIL_BATCH_SIZE=50
EMAIL_MAX_CONCURRENT=10
EMAIL_PROCESSING_TIMEOUT=30
EMAIL_CHECK_INTERVAL=30
EMAIL_MAX_CONTENT_LENGTH=1048576
EMAIL_MAX_SUBJECT_LENGTH=200

# Apple Mail Integration
# Note: {user} will be replaced with current username
APPLE_MAIL_DB_PATH=/Users/{user}/Library/Mail/V10/MailData/Envelope Index
APPLE_MAIL_BACKUP_PATH=/Users/{user}/Library/Mail

# Performance Configuration
MAX_CONNECTIONS=1000
MAX_CONCURRENT_REQUESTS=100
TIMEOUT_KEEP_ALIVE=75
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=50

# Resource Limits
MAX_MEMORY_USAGE_GB=2.0
WORKER_MAX_MEMORY_MB=512
CACHE_MAX_MEMORY_MB=256
MAX_BATCH_PROCESSING_SIZE=500

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/email_intelligence_production.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=10
LOG_ROTATION=daily

# Security Configuration
# =============================================================================
# CRITICAL: Change this secret key in production!
SECRET_KEY=change-this-super-secret-key-in-production-now
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS Settings
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:8501
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*

# API Rate Limiting
API_RATE_LIMIT_PER_MINUTE=1000
API_RATE_LIMIT_PER_HOUR=10000

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# Metrics Configuration
METRICS_ENABLED=true
METRICS_ENDPOINT=/metrics
METRICS_COLLECTION_INTERVAL=10

# Alerting Configuration
ALERT_EMAIL_ENABLED=false
ALERT_EMAIL_RECIPIENT=admin@company.com
ALERT_THRESHOLD_ERROR_RATE=5
ALERT_THRESHOLD_RESPONSE_TIME=5000

# System Monitoring Thresholds
MONITOR_CPU_THRESHOLD=80
MONITOR_MEMORY_THRESHOLD=85
MONITOR_DISK_THRESHOLD=90

# Real-time Processing Configuration
REALTIME_MONITOR_ENABLED=true
REALTIME_CHECK_INTERVAL=30
REALTIME_URGENT_CHECK_INTERVAL=10
REALTIME_BATCH_SIZE=100

# Event Processing
EVENT_QUEUE_MAX_SIZE=10000
EVENT_WORKER_COUNT=5
EVENT_PROCESSING_TIMEOUT=10

# Analytics Configuration
ANALYTICS_ENABLED=true
ANALYTICS_UPDATE_INTERVAL=5.0
ANALYTICS_RETENTION_DAYS=30
ANALYTICS_BATCH_SIZE=1000

# Feature Flags
# =============================================================================
# Core Features
FEATURE_AI_CLASSIFICATION=true
FEATURE_DRAFT_GENERATION=true
FEATURE_REAL_TIME_MONITORING=true
FEATURE_ANALYTICS_DASHBOARD=true
FEATURE_WEBSOCKET_SUPPORT=true
FEATURE_BATCH_PROCESSING=true
FEATURE_EMAIL_SEARCH=true

# Optional Features
FEATURE_AUTO_RESPONSES=false
FEATURE_VOICE_SYNTHESIS=false
FEATURE_SMART_SCHEDULING=false
FEATURE_SENTIMENT_ANALYSIS=true
FEATURE_PREDICTIVE_ANALYTICS=false

# Voice Configuration (for draft generation)
VOICE_USER_NAME=Abdullah
VOICE_GREETING_PREFIX=D
VOICE_SIGNATURE=Regards Abdullah
VOICE_TONE=professional_warm

# Performance Thresholds
SLOW_QUERY_THRESHOLD_MS=1000
MEMORY_USAGE_THRESHOLD_PERCENT=80
RESPONSE_TIME_THRESHOLD_MS=2000

# Development Override (leave false for production)
OVERRIDE_DEVELOPMENT=false
