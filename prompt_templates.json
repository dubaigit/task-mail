{
  "version": "1.0.0",
  "templates": {
    "classification": {
      "system_prompt": "You are an expert email classification system optimized for executive workflows.\n\nCLASSIFICATION CATEGORIES:\n- REPLY: Requires direct response from recipient\n- NO_REPLY: Information only, no response needed\n- TASK: Contains actionable tasks to complete\n- DELEGATE: Should be delegated to team member\n- FYI_ONLY: For information only\n- APPROVAL: Requires approval or sign-off\n- FOLLOW_UP: Needs follow-up action\n- URGENT: Requires immediate attention\n\nANALYSIS REQUIREMENTS:\n1. Analyze sender intent and email context\n2. Identify key action items and deadlines\n3. Assess urgency and priority level\n4. Extract decision points\n5. Provide confidence score (0.0-1.0)\n\nOUTPUT FORMAT:\nReturn ONLY valid JSON matching the schema. No additional text.",
      "user_prompt_template": "Analyze this email and classify it:\n\nSubject: {subject}\nFrom: {sender}\nDate: {date}\nBody: {body}\n\n{few_shot_context}\n\nClassification:",
      "few_shot_examples": [
        {
          "input": {
            "subject": "Q4 Budget Approval Required",
            "sender": "cfo@company.com",
            "body": "Please review and approve the attached Q4 budget by EOD Friday."
          },
          "output": {
            "classification": "APPROVAL",
            "confidence": 0.95,
            "intent": "Requesting budget approval with deadline",
            "summary": "CFO requests Q4 budget approval by EOD Friday",
            "action_items": ["Review Q4 budget", "Provide approval by EOD Friday"],
            "reply_type": "approval_confirmation",
            "reasoning": "Contains explicit approval request with clear deadline"
          }
        },
        {
          "input": {
            "subject": "FYI: Server maintenance this weekend",
            "sender": "it@company.com",
            "body": "Servers will be down for maintenance Saturday 2-4 AM. No action required."
          },
          "output": {
            "classification": "FYI_ONLY",
            "confidence": 0.92,
            "intent": "Informing about scheduled maintenance",
            "summary": "IT announces server maintenance Saturday 2-4 AM",
            "action_items": [],
            "reply_type": "no_reply_needed",
            "reasoning": "Explicitly states no action required, purely informational"
          }
        }
      ],
      "output_schema": {
        "type": "object",
        "properties": {
          "classification": {
            "type": "string",
            "enum": ["REPLY", "NO_REPLY", "TASK", "DELEGATE", "FYI_ONLY", "APPROVAL", "FOLLOW_UP", "URGENT"]
          },
          "confidence": {
            "type": "number",
            "minimum": 0,
            "maximum": 1
          },
          "intent": {"type": "string"},
          "summary": {"type": "string"},
          "action_items": {
            "type": "array",
            "items": {"type": "string"}
          },
          "reply_type": {
            "type": "string",
            "enum": ["quick_confirm", "detailed_response", "delegate", "schedule_meeting", "request_info", "approval_confirmation", "no_reply_needed"]
          },
          "reasoning": {"type": "string"}
        },
        "required": ["classification", "confidence", "intent", "summary", "action_items", "reply_type", "reasoning"]
      },
      "max_tokens": 400,
      "temperature": 0.1
    },
    "task_extraction": {
      "system_prompt": "You are an expert task extraction system. Extract actionable tasks with complete context.\n\nTASK PRIORITIES:\n- CRITICAL: Must be done immediately/today\n- HIGH: This week\n- MEDIUM: Next 2 weeks\n- LOW: When possible\n\nEXTRACTION RULES:\n1. Only extract concrete, actionable tasks\n2. Include context and rationale\n3. Identify dependencies between tasks\n4. Estimate time requirements when possible\n5. Assign to specific people if mentioned\n\nReturn ONLY valid JSON matching the schema.",
      "user_prompt_template": "Extract all actionable tasks from this email:\n\n{email_content}\n\n{few_shot_context}\n\nTasks:",
      "few_shot_examples": [
        {
          "input": "Please review the contract, get legal approval, and send to the client by Friday. John from legal should prioritize this.",
          "output": {
            "tasks": [
              {
                "description": "Review contract document",
                "priority": "HIGH",
                "deadline": "This week",
                "assignee": null,
                "estimated_hours": 1.0,
                "dependencies": [],
                "context": "Initial review before legal approval"
              },
              {
                "description": "Get legal approval for contract",
                "priority": "HIGH",
                "deadline": "Before Friday",
                "assignee": "John from legal",
                "estimated_hours": 2.0,
                "dependencies": ["Review contract document"],
                "context": "Legal review required before client submission"
              },
              {
                "description": "Send approved contract to client",
                "priority": "HIGH",
                "deadline": "Friday",
                "assignee": null,
                "estimated_hours": 0.5,
                "dependencies": ["Get legal approval for contract"],
                "context": "Final step after legal approval"
              }
            ]
          }
        }
      ],
      "output_schema": {
        "type": "object",
        "properties": {
          "tasks": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "description": {"type": "string"},
                "priority": {
                  "type": "string",
                  "enum": ["CRITICAL", "HIGH", "MEDIUM", "LOW"]
                },
                "deadline": {"type": ["string", "null"]},
                "assignee": {"type": ["string", "null"]},
                "estimated_hours": {"type": ["number", "null"]},
                "dependencies": {
                  "type": "array",
                  "items": {"type": "string"}
                },
                "context": {"type": "string"}
              },
              "required": ["description", "priority", "context"]
            }
          }
        },
        "required": ["tasks"]
      },
      "max_tokens": 600,
      "temperature": 0.1
    },
    "draft_generation": {
      "system_prompt": "You are an executive assistant drafting professional email responses.\n\nWRITING STYLE:\n- Professional yet warm tone\n- Concise and direct (3-7 sentences)\n- Action-oriented language\n- Clear next steps\n\nSTRUCTURE:\n1. Greeting: \"{greeting_prefix} {name},\"\n2. Acknowledgment/Opening\n3. Main response addressing key points\n4. Next steps or closing\n5. Sign-off: \"{signature}\"\n\nTONE VARIATIONS:\n- Approval: Confident, decisive\n- Delegation: Clear expectations, supportive\n- Information request: Specific, polite\n- Urgent response: Immediate acknowledgment, timeline\n\nGenerate natural, contextually appropriate responses.",
      "user_prompt_template": "Draft a response to this email:\n\nOriginal Email:\nSubject: {subject}\nFrom: {sender}\nBody: {body}\n\nContext:\n- Classification: {classification}\n- Key Points: {key_points}\n- Action Items: {action_items}\n- Urgency: {urgency}\n- User Name: {user_name}\n- Greeting Style: {greeting_prefix}\n- Signature: {signature}\n\n{few_shot_context}\n\nDraft Response:",
      "few_shot_examples": [
        {
          "input": {
            "subject": "Project timeline concerns",
            "sender": "Sarah Johnson <sarah@company.com>",
            "body": "I'm worried about meeting the Q1 deadline with current resources.",
            "classification": "REPLY",
            "urgency": "HIGH"
          },
          "output": "D Sarah,\n\nThanks for flagging this concern. Let's discuss resource allocation in tomorrow's standup to ensure we stay on track for Q1.\n\nI'll review the project plan beforehand and come with specific recommendations.\n\nRegards Abdullah"
        }
      ],
      "output_schema": {
        "type": "object",
        "properties": {
          "draft": {"type": "string"},
          "tone": {"type": "string"},
          "key_points_addressed": {
            "type": "array",
            "items": {"type": "string"}
          }
        },
        "required": ["draft"]
      },
      "max_tokens": 500,
      "temperature": 0.3
    },
    "key_points": {
      "system_prompt": "Extract the 3-5 most important key points from emails. Focus on:\n- Action items\n- Decisions needed\n- Important information\n- Deadlines\n- Problems/concerns\n\nBe specific and concise. Return JSON only.",
      "user_prompt_template": "Extract key points from:\n\n{content}\n\nKey points:",
      "few_shot_examples": [],
      "output_schema": {
        "type": "object",
        "properties": {
          "key_points": {
            "type": "array",
            "items": {"type": "string"},
            "minItems": 1,
            "maxItems": 5
          }
        },
        "required": ["key_points"]
      },
      "max_tokens": 200,
      "temperature": 0.1
    },
    "sentiment_analysis": {
      "system_prompt": "Analyze the sentiment and tone of emails. Identify:\n- Overall sentiment (positive, neutral, negative, mixed)\n- Emotional tone (professional, frustrated, urgent, friendly, etc.)\n- Relationship context\n- Communication style preferences\n\nReturn structured JSON.",
      "user_prompt_template": "Analyze sentiment of:\n\n{content}\n\nSentiment analysis:",
      "few_shot_examples": [],
      "output_schema": {
        "type": "object",
        "properties": {
          "sentiment": {
            "type": "string",
            "enum": ["positive", "neutral", "negative", "mixed"]
          },
          "tone": {
            "type": "array",
            "items": {"type": "string"}
          },
          "confidence": {"type": "number"},
          "indicators": {
            "type": "array",
            "items": {"type": "string"}
          }
        },
        "required": ["sentiment", "tone", "confidence"]
      },
      "max_tokens": 150,
      "temperature": 0.1
    },
    "action_items": {
      "system_prompt": "Extract specific action items from emails. Each action item should be:\n- Clear and actionable\n- Assigned to a person (if mentioned)\n- Have a deadline (if specified)\n- Include context\n\nReturn structured JSON.",
      "user_prompt_template": "Extract action items from:\n\n{content}\n\nAction items:",
      "few_shot_examples": [],
      "output_schema": {
        "type": "object",
        "properties": {
          "action_items": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "action": {"type": "string"},
                "owner": {"type": ["string", "null"]},
                "deadline": {"type": ["string", "null"]},
                "context": {"type": "string"},
                "priority": {
                  "type": "string",
                  "enum": ["critical", "high", "medium", "low"]
                }
              },
              "required": ["action", "context", "priority"]
            }
          }
        },
        "required": ["action_items"]
      },
      "max_tokens": 300,
      "temperature": 0.1
    }
  },
  "meta": {
    "created_at": "2024-01-15",
    "last_updated": "2024-01-15",
    "author": "AI Engineer",
    "description": "Production-ready prompt templates for GPT-5 email processing"
  }
}