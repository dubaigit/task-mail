# Production Environment Configuration
# Email Intelligence System

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
PRODUCTION_MODE=true
DEBUG=false
LOG_LEVEL=INFO
ENVIRONMENT=production

# ============================================================================
# SERVICE PORTS AND NETWORKING
# ============================================================================
PORT=8000
ANALYTICS_PORT=8001
UI_PORT=3000
WEBSOCKET_PORT=8000
HEALTH_CHECK_PORT=8000

# Server Configuration
HOST=0.0.0.0
WORKERS=4
MAX_CONNECTIONS=1000
TIMEOUT_KEEP_ALIVE=75
KEEP_ALIVE_TIMEOUT=75
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=50

# ============================================================================
# AI/ML CONFIGURATION
# ============================================================================
# OpenAI API Configuration (GPT-5 Production)
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL_CLASSIFIER=gpt-5-nano-2025-08-07
OPENAI_MODEL_DRAFT=gpt-5-mini-2025-08-07
OPENAI_MAX_TOKENS=300
OPENAI_TEMPERATURE=0.1

# Rate Limiting for AI APIs
AI_REQUESTS_PER_MINUTE=60
AI_REQUESTS_PER_HOUR=1000
AI_BURST_CAPACITY=10
AI_BACKOFF_FACTOR=2.0
AI_MAX_RETRIES=3

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# SQLite (Primary - for email intelligence)
DATABASE_PATH=email_intelligence_production.db
DATABASE_TIMEOUT=30

# Redis Configuration (Caching & Message Queue)
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=100

# MongoDB Configuration (Email Storage)
MONGODB_URL=mongodb://admin:emailpass123@localhost:27017/emaildb
MONGODB_HOST=localhost
MONGODB_PORT=27017
MONGODB_DATABASE=emaildb
MONGODB_USERNAME=admin
MONGODB_PASSWORD=emailpass123

# ============================================================================
# APPLE MAIL INTEGRATION
# ============================================================================
# Apple Mail Database Path (macOS)
APPLE_MAIL_DB_PATH=/Users/${USER}/Library/Mail/V10/MailData/Envelope Index
APPLE_MAIL_BACKUP_PATH=/Users/${USER}/Library/Mail

# Email Processing Configuration
EMAIL_BATCH_SIZE=50
EMAIL_MAX_CONCURRENT=10
EMAIL_PROCESSING_TIMEOUT=30
EMAIL_CHECK_INTERVAL=30

# ============================================================================
# CACHING CONFIGURATION
# ============================================================================
CACHE_ENABLED=true
CACHE_TTL_SECONDS=3600
CACHE_MAX_ENTRIES=10000
CACHE_CLEANUP_INTERVAL=300

# Performance Cache Settings
PERFORMANCE_CACHE_SIZE=1000
CLASSIFICATION_CACHE_TTL=7200
DRAFT_CACHE_TTL=3600

# ============================================================================
# REAL-TIME FEATURES
# ============================================================================
# WebSocket Configuration
WS_MAX_CONNECTIONS=500
WS_HEARTBEAT_INTERVAL=30
WS_CONNECTION_TIMEOUT=300
WS_MAX_MESSAGE_SIZE=1048576

# Event Processing
EVENT_QUEUE_MAX_SIZE=10000
EVENT_WORKER_COUNT=5
EVENT_PROCESSING_TIMEOUT=10

# Real-time Monitoring
MONITOR_CHECK_INTERVAL=30
MONITOR_URGENT_CHECK_INTERVAL=10
MONITOR_BATCH_SIZE=100

# ============================================================================
# ANALYTICS AND METRICS
# ============================================================================
# Analytics Configuration
ANALYTICS_ENABLED=true
ANALYTICS_UPDATE_INTERVAL=5.0
ANALYTICS_RETENTION_DAYS=30
ANALYTICS_BATCH_SIZE=1000

# Metrics Collection
METRICS_ENABLED=true
METRICS_ENDPOINT=/metrics
METRICS_COLLECTION_INTERVAL=10

# Performance Monitoring
PERFORMANCE_MONITORING=true
SLOW_QUERY_THRESHOLD=1000
MEMORY_USAGE_THRESHOLD=80

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================
# API Security
SECRET_KEY=your-super-secret-key-change-this-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS Settings
CORS_ORIGINS=["http://localhost:3000", "http://localhost:3001"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
CORS_ALLOW_HEADERS=["*"]

# Rate Limiting (API)
API_RATE_LIMIT_PER_MINUTE=1000
API_RATE_LIMIT_PER_HOUR=10000

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
# Log Settings
LOG_FORMAT=json
LOG_FILE=logs/email_intelligence_production.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=10
LOG_ROTATION=daily

# Component Logging Levels
LOG_LEVEL_API=INFO
LOG_LEVEL_DATABASE=WARNING
LOG_LEVEL_ANALYTICS=INFO
LOG_LEVEL_WEBSOCKET=WARNING
LOG_LEVEL_EMAIL_MONITOR=INFO

# ============================================================================
# SYSTEM RESOURCE LIMITS
# ============================================================================
# Memory Limits
MAX_MEMORY_USAGE=2GB
WORKER_MAX_MEMORY=512MB
CACHE_MAX_MEMORY=256MB

# Processing Limits
MAX_CONCURRENT_REQUESTS=100
MAX_BATCH_PROCESSING_SIZE=500
MAX_EMAIL_CONTENT_LENGTH=1048576

# ============================================================================
# BACKUP AND RECOVERY
# ============================================================================
# Backup Configuration
BACKUP_ENABLED=true
BACKUP_INTERVAL=daily
BACKUP_RETENTION_DAYS=7
BACKUP_PATH=/Users/${USER}/apple-mcp/backups

# Data Export
EXPORT_ENABLED=true
EXPORT_FORMAT=json
EXPORT_BATCH_SIZE=1000

# ============================================================================
# FEATURE FLAGS
# ============================================================================
# Feature Toggles
FEATURE_AI_CLASSIFICATION=true
FEATURE_DRAFT_GENERATION=true
FEATURE_REAL_TIME_MONITORING=true
FEATURE_ANALYTICS_DASHBOARD=true
FEATURE_WEBSOCKET_SUPPORT=true
FEATURE_BATCH_PROCESSING=true
FEATURE_EMAIL_SEARCH=true
FEATURE_AUTO_RESPONSES=false

# Experimental Features
EXPERIMENTAL_VOICE_SYNTHESIS=false
EXPERIMENTAL_SMART_SCHEDULING=false
EXPERIMENTAL_SENTIMENT_ANALYSIS=true

# ============================================================================
# MONITORING AND ALERTING
# ============================================================================
# Health Check Configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# Alert Configuration
ALERT_EMAIL_ENABLED=false
ALERT_EMAIL_RECIPIENT=admin@company.com
ALERT_THRESHOLD_ERROR_RATE=5
ALERT_THRESHOLD_RESPONSE_TIME=5000

# System Monitoring
MONITOR_CPU_THRESHOLD=80
MONITOR_MEMORY_THRESHOLD=85
MONITOR_DISK_THRESHOLD=90

# ============================================================================
# DEPLOYMENT SETTINGS
# ============================================================================
# Deployment Configuration
DEPLOYMENT_TYPE=standalone
CLUSTER_MODE=false
LOAD_BALANCER=false

# Container Settings (if using Docker)
CONTAINER_NAME=email-intelligence-production
CONTAINER_MEMORY_LIMIT=4g
CONTAINER_CPU_LIMIT=2.0

# Auto-scaling (future)
AUTO_SCALE_ENABLED=false
MIN_WORKERS=2
MAX_WORKERS=8
TARGET_CPU_UTILIZATION=70