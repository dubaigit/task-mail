# Task Mail Environment Configuration
# Copy to .env and update with your actual values

# Database Configuration - Supabase PostgreSQL
DATABASE_URL=postgresql://postgres:postgres@localhost:54321/postgres # Local Supabase database
SUPABASE_URL=http://localhost:54321 # Supabase API URL
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0 # Public anon key
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU # Service role key for backend

# Redis Configuration - For caching and sessions
REDIS_HOST=localhost # Redis server host
REDIS_PORT=6379 # Redis server port  
REDIS_PASSWORD=redis_secure_password_2024 # Redis authentication password
REDIS_URL=redis://:redis_secure_password_2024@localhost:6379 # Full Redis connection URL

# Security & Authentication
JWT_SECRET=taskmail-jwt-secret-key-must-be-32-characters-minimum-length # JWT signing secret
JWT_REFRESH_SECRET=taskmail-refresh-secret-different-from-main-jwt-key # Refresh token secret
SESSION_SECRET=taskmail-session-key-32-chars-minimum # Express session secret
ENCRYPTION_KEY=taskmail-encryption-key-32-characters # Data encryption key
BCRYPT_ROUNDS=12 # Password hashing complexity

# OpenAI Configuration - Get from https://platform.openai.com/api-keys
OPENAI_API_KEY=${OPENAI_API_KEY} # OpenAI API key from environment or set manually
OPENAI_MODEL=gpt-5-mini # Preferred model for email analysis
OPENAI_MAX_TOKENS=4000 # Maximum tokens per API request
OPENAI_DAILY_BUDGET=10.00 # Daily spending limit in USD
OPENAI_MONTHLY_BUDGET=100.00 # Monthly spending limit in USD

# Application Server Configuration
PORT=8000 # Backend server port
NODE_ENV=development # Environment: development, production, test
CORS_ORIGIN=http://localhost:3000 # Frontend origin for CORS

# Apple Mail Database - Choose one path below  
APPLE_MAIL_DB_PATH=/Users/iamomen/task-mail/database/fake-apple-mail/fake-envelope-index.sqlite # Fake test database (DEFAULT - safe for development)
# APPLE_MAIL_DB_PATH=/Users/User/Library/Mail/V10/MailData/Envelope Index # Real Apple Mail database (uncomment for production)

# Rate Limiting & Security
SESSION_TIMEOUT=3600 # Session timeout in seconds (1 hour)
RATE_LIMIT_WINDOW=900000 # Rate limit window in milliseconds (15 minutes)
RATE_LIMIT_MAX_REQUESTS=100 # Maximum requests per window per IP

# Logging Configuration
LOG_LEVEL=info # Logging level: error, warn, info, debug
LOG_FILE=./logs/app.log # Log file path

# Frontend Configuration - React app environment variables
REACT_APP_API_URL=http://localhost:8000 # Backend API base URL
REACT_APP_SUPABASE_URL=http://localhost:54321 # Supabase URL for frontend
REACT_APP_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0 # Public key for frontend

# Development Tools
DEBUG=taskmail:* # Debug namespace for development
VERBOSE_LOGGING=true # Enable verbose logging in development